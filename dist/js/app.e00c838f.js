(function(e){function t(t){for(var a,o,i=t[0],c=t[1],u=t[2],d=0,l=[];d<i.length;d++)o=i[d],s[o]&&l.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(l.length)l.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==s[i]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},s={app:0},r=[];function i(e){return c.p+"js/"+({}[e]||e)+"."+{1644:"397fd637",4277:"85d7d185","19ef":"217da8a2","40ad":"e25e63e7","52c3":"32ae5913","574b":"454a9b87",afe8:"860fd6a0",c66d:"2905c7a7","chunk-0a24":"bf35a0bf","chunk-0bc6":"33029bf8","chunk-19e0":"21544c2e","chunk-2efb":"3e153f4a","chunk-452b":"2693ad96","chunk-4b34":"1733b993","chunk-588f":"98581f42","chunk-704f":"3018a7ea","chunk-b022":"d00f43c5","chunk-bcb9":"763782b6","chunk-bead":"0685d634","chunk-cded":"62c0d63b","chunk-e538":"adcd95e5",d2f1:"89fb4ff5",db70:"e487cfac"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0a24":1,"chunk-0bc6":1,"chunk-19e0":1,"chunk-2efb":1,"chunk-4b34":1,"chunk-588f":1,"chunk-704f":1,"chunk-b022":1,"chunk-bcb9":1,"chunk-bead":1,"chunk-cded":1,"chunk-e538":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{1644:"31d6cfe0",4277:"31d6cfe0","19ef":"31d6cfe0","40ad":"31d6cfe0","52c3":"31d6cfe0","574b":"31d6cfe0",afe8:"31d6cfe0",c66d:"31d6cfe0","chunk-0a24":"9dd324ec","chunk-0bc6":"29fbd913","chunk-19e0":"a4d292b9","chunk-2efb":"acf45fcd","chunk-452b":"31d6cfe0","chunk-4b34":"3bead260","chunk-588f":"65aea6e6","chunk-704f":"843a9615","chunk-b022":"ad792d26","chunk-bcb9":"ba6f844d","chunk-bead":"d6ed3f8a","chunk-cded":"099f7c4a","chunk-e538":"56a60d32",d2f1:"31d6cfe0",db70:"31d6cfe0"}[e]+".css",o=c.p+a,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var i=s[r],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===a||u===o))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){i=d[r],u=i.getAttribute("data-href");if(u===a||u===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.request=a,n(s)},l.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(l)}).then(function(){o[e]=0}));var a=s[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise(function(t,n){a=s[e]=[t,n]});t.push(a[2]=r);var u,d=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e),u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=s[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");r.type=a,r.request=o,n[1](r)}s[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,d.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/~user5/books-store-client/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"218e":function(e,t,n){"use strict";var a=n("b9f6"),o=n.n(a);o.a},2856:function(e,t,n){},"409e":function(e,t,n){"use strict";var a=n("82fd"),o=n.n(a);o.a},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return n(t)}function s(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=s,e.exports=o,o.id="4678"},"4f8d":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="http://xenial.test/books-store/server"},"555f":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pageLoader"},[n("div",{staticClass:"lds-dual-ring"})])}],s=(n("218e"),n("2877")),r={},i=Object(s["a"])(r,a,o,!1,null,"feeb76d4",null);i.options.__file="Loader.vue";t["a"]=i.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),o=n("1dce"),s=n.n(o),r=n("ee98"),i=n.n(r),c=n("d842"),u=n("5b20"),d=n.n(u),l=n("bc3a"),f=n.n(l),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("div",{staticClass:"app__navbar"},[n("navbar")],1),n("div",{staticClass:"app__content"},[e.isLoading?n("loader"):e._e(),n("router-view")],1),n("notifications",{attrs:{group:"messages",position:"bottom right"}}),e.registerModal.isVisible?n("register-modal"):e._e(),e.loginModal.isVisible?n("login-modal"):e._e()],1)},p=[],h=n("c93e"),g=(n("ac6a"),n("2f62")),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar is-dark is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-brand"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[a("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),e._v("\n        Books Shop\n      ")]),e._m(0)],1),a("div",{staticClass:"navbar-menu"},[a("div",{staticClass:"navbar-end"},[e.isAuth?[a("router-link",{staticClass:"navbar-item",attrs:{to:"/cart"}},[e._v("\n            Cart "),a("span",{staticClass:"cartCount"},[e._v(e._s(e.getCartCount))])]),a("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[a("a",{staticClass:"navbar-link"},[e._v("\n              "+e._s(e.auth.name)+"\n            ")]),a("div",{staticClass:"navbar-dropdown"},[e.isAdmin?e._e():a("router-link",{staticClass:"navbar-item",attrs:{to:"/orders"}},[e._v("\n                Orders\n              ")]),e.isAdmin?a("router-link",{staticClass:"navbar-item",attrs:{to:"/dashboard"}},[e._v("\n                Dashboard\n              ")]):e._e(),a("router-link",{staticClass:"navbar-item",attrs:{to:"/profile"}},[e._v("\n                Profile\n              ")]),a("hr",{staticClass:"navbar-divider"}),a("a",{staticClass:"navbar-item",on:{click:e.logoutUser}},[e._v("\n                Logout\n              ")])],1)])]:[a("a",{staticClass:"navbar-item",on:{click:e.setLoginModal}},[e._v("Login")]),a("a",{staticClass:"navbar-item",on:{click:e.setRegisterModal}},[e._v("Register")])]],2)])])])},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"navbar-burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false"}},[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})])}],k={name:"Navbar",mounted:function(){var e=document.querySelector(".navbar .navbar-burger"),t=document.querySelector(".navbar .navbar-menu");e.addEventListener("click",function(){t.classList.toggle("is-active"),e.classList.toggle("is-active")})},computed:Object(h["a"])({},g["a"].mapState(["auth"]),g["a"].mapGetters(["isAuth","isAdmin","getCartCount"])),methods:Object(h["a"])({},g["a"].mapMutations(["setRegisterModal","setLoginModal"]),g["a"].mapActions(["logoutUser"]))},y=k,C=(n("409e"),n("2877")),j=Object(C["a"])(y,b,v,!1,null,"f86d6d14",null);j.options.__file="Navbar.vue";var w=j.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"registerModal",on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleRegisterUser(t):null},function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.removeRegisterModal(t):null}]}},[n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Register")]),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:e.removeRegisterModal}})]),n("section",{staticClass:"modal-card-body"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Name")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.name.$model,expression:"$v.name.$model",modifiers:{trim:!0}}],ref:"name",class:{input:!0,"is-danger":e.$v.name.$error},attrs:{type:"text",placeholder:"Name"},domProps:{value:e.$v.name.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.name,"$model",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),n("ul",{staticClass:"help is-danger"},[e.$v.name.$dirty&&!e.$v.name.required?n("li",[e._v("\n                            Field is required.\n                        ")]):e._e(),e.$v.name.minLength?e._e():n("li",[e._v("\n                            Name must have at least "+e._s(e.$v.name.$params.minLength.min)+" letters.\n                        ")])])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Email")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],class:{input:!0,"is-danger":e.$v.email.$error},attrs:{type:"text",placeholder:"Email"},domProps:{value:e.$v.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.email,"$model",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),n("ul",{staticClass:"help is-danger"},[e.$v.email.$dirty&&!e.$v.email.required?n("li",[e._v("\n                            Field is required.\n                        ")]):e._e(),e.$v.email.email?e._e():n("li",[e._v("\n                            This field must be a valid email address.\n                        ")])])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Password")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.password.$model,expression:"$v.password.$model",modifiers:{trim:!0}}],class:{input:!0,"is-danger":e.$v.password.$error},attrs:{type:"password",placeholder:"Password"},domProps:{value:e.$v.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.password,"$model",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),n("ul",{staticClass:"help is-danger"},[e.$v.password.$dirty&&!e.$v.password.required?n("li",[e._v("\n                            Field is required.\n                        ")]):e._e(),e.$v.password.minLength?e._e():n("li",[e._v("\n                            Password must have at least "+e._s(e.$v.password.$params.minLength.min)+" letters.\n                        ")])])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Repeat password")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.repeatPassword.$model,expression:"$v.repeatPassword.$model",modifiers:{trim:!0}}],class:{input:!0,"is-danger":e.$v.repeatPassword.$error},attrs:{type:"password",placeholder:"Repeat password"},domProps:{value:e.$v.repeatPassword.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.repeatPassword,"$model",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),n("ul",{staticClass:"help is-danger"},[e.$v.password.$dirty&&!e.$v.password.required?n("li",[e._v("\n                            Field is required.\n                        ")]):e._e(),e.$v.repeatPassword.sameAsPassword?e._e():n("li",[e._v("\n                            Passwords must be identical.\n                        ")])])])]),n("footer",{staticClass:"modal-card-foot"},[e.isLoading?n("button",{staticClass:"button is-success is-loading",attrs:{disabled:""}},[e._v("\n                  Submit\n                ")]):[n("button",{staticClass:"button is-success",on:{click:e.handleRegisterUser}},[e._v("Submit")]),n("button",{staticClass:"button",on:{click:e.removeRegisterModal}},[e._v("Cancel")])]],2)])])])},x=[],$=(n("7f7f"),n("b5ae")),P={name:"RegisterModal",data:function(){return{name:"",email:"",password:"",repeatPassword:"",isLoading:!1}},validations:{name:{required:$["required"],minLength:Object($["minLength"])(6)},email:{required:$["required"],email:$["email"]},password:{required:$["required"],minLength:Object($["minLength"])(6)},repeatPassword:{required:$["required"],sameAsPassword:Object($["sameAs"])("password")}},mounted:function(){this.$refs.name.focus()},methods:Object(h["a"])({},g["a"].mapMutations(["removeRegisterModal"]),g["a"].mapActions(["registerUser"]),{handleRegisterUser:function(){var e=this;if(this.$v.$touch(),this.$v.$invalid)return!1;this.isLoading=!0,this.registerUser({name:this.name,email:this.email,password:this.password}).finally(function(){e.isLoading=!1})}})},A=P,S=Object(C["a"])(A,_,x,!1,null,null,null);S.options.__file="RegisterModal.vue";var E=S.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loginModal",on:{keyup:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLoginUser(t):null},function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.removeLoginModal(t):null}]}},[n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Login")]),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:e.removeLoginModal}})]),n("section",{staticClass:"modal-card-body"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Email")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],ref:"email",class:{input:!0,"is-danger":e.$v.email.$error},attrs:{type:"text",placeholder:"Email"},domProps:{value:e.$v.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.email,"$model",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),n("ul",{staticClass:"help is-danger"},[e.$v.email.$dirty&&!e.$v.email.required?n("li",[e._v("\n                            Field is required.\n                        ")]):e._e(),e.$v.email.email?e._e():n("li",[e._v("\n                            This field must be a valid email address.\n                        ")])])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Password")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.password.$model,expression:"$v.password.$model",modifiers:{trim:!0}}],class:{input:!0,"is-danger":e.$v.password.$error},attrs:{type:"password",placeholder:"Password"},domProps:{value:e.$v.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.password,"$model",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),n("ul",{staticClass:"help is-danger"},[e.$v.password.$dirty&&!e.$v.password.required?n("li",[e._v("\n                            Field is required.\n                        ")]):e._e(),e.$v.password.minLength?e._e():n("li",[e._v("\n                            Password must have at least "+e._s(e.$v.password.$params.minLength.min)+" letters.\n                        ")])])])]),n("footer",{staticClass:"modal-card-foot"},[e.isLoading?n("button",{staticClass:"button is-success is-loading",attrs:{disabled:""}},[e._v("\n                  Submit\n                ")]):[n("button",{staticClass:"button is-success",on:{click:e.handleLoginUser}},[e._v("Submit")]),n("button",{staticClass:"button",on:{click:e.removeLoginModal}},[e._v("Cancel")])]],2)])])])},L=[],O={name:"LoginModal",data:function(){return{email:"",password:"",isLoading:!1}},validations:{email:{required:$["required"],email:$["email"]},password:{required:$["required"],minLength:Object($["minLength"])(6)}},mounted:function(){this.$refs.email.focus()},methods:Object(h["a"])({},g["a"].mapMutations(["removeLoginModal"]),g["a"].mapActions(["loginUser"]),{handleLoginUser:function(){var e=this;if(this.$v.$touch(),this.$v.$invalid)return!1;this.isLoading=!0,this.loginUser({email:this.email,password:this.password}).finally(function(){e.isLoading=!1})}})},B=O,U=Object(C["a"])(B,I,L,!1,null,null,null);U.options.__file="LoginModal.vue";var M=U.exports,T=n("555f"),F={name:"App",components:{navbar:w,"register-modal":E,"login-modal":M,loader:T["a"]},mounted:function(){var e=this;this.setLoading();var t=[];t.push(this.getBooks()),t.push(this.getAuthors()),t.push(this.getGenres()),this.isAuth&&(t.push(this.getCart()),t.push(this.getPaymentTypes())),Promise.all(t).finally(function(){e.removeLoading()})},computed:Object(h["a"])({},g["a"].mapState(["loginModal","registerModal","loginModal","isLoading"]),g["a"].mapGetters(["isAuth"])),methods:Object(h["a"])({},g["a"].mapActions(["getBooks","getAuthors","getGenres","getCart","getPaymentTypes"]),g["a"].mapMutations(["setLoading","removeLoading"]))},q=F,G=(n("5c0b"),Object(C["a"])(q,m,p,!1,null,null,null));G.options.__file="App.vue";var z=G.exports,N=n("8c4f"),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("div",{staticClass:"container"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-one-fifth-desktop is-two-fifths-tablet"},[n("filters-panel")],1),n("div",{staticClass:"column is-four-fifths-desktop is-three-fifths-tablet"},[n("div",{staticClass:"columns is-multiline"},[e._l(e.books,function(e){return n("div",{key:e.id,staticClass:"column is-one-third-widescreen is-half-tablet"},[n("book-item",{attrs:{book:e}})],1)}),0===e.books.length?n("div",{staticClass:"column has-text-centered"},[e._v("\n            There are no books yet.\n          ")]):e._e()],2)])])])])},D=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"panel"},[n("p",{staticClass:"panel-heading"},[e._v("\n        Find books\n    ")]),n("div",{staticClass:"panel-block"},[n("p",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.bookFilters.title,expression:"bookFilters.title"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter title"},domProps:{value:e.bookFilters.title},on:{input:function(t){t.target.composing||e.$set(e.bookFilters,"title",t.target.value)}}})])]),n("div",{staticClass:"panel-block"},[n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.bookFilters.author,expression:"bookFilters.author"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.bookFilters,"author",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("Select author")]),e._l(e.authors,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)])]),n("div",{staticClass:"panel-block"},[n("div",{staticClass:"select is-fullwidth"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.bookFilters.genre,expression:"bookFilters.genre"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.bookFilters,"genre",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[e._v("Select genre")]),e._l(e.genres,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)])]),e.isFiltered?n("div",{staticClass:"panel-block"},[n("button",{staticClass:"button is-danger is-outlined is-fullwidth",on:{click:e.removeBookFilters}},[e._v("\n            Reset\n        ")])]):e._e()])},W=[],J={name:"FiltersPanel",computed:Object(h["a"])({},g["a"].mapState(["authors","genres","bookFilters"]),{isFiltered:function(){return!!this.bookFilters.title||!!this.bookFilters.author||!!this.bookFilters.genre}}),methods:Object(h["a"])({},g["a"].mapMutations(["removeBookFilters"]))},H=J,K=Object(C["a"])(H,V,W,!1,null,null,null);K.options.__file="FiltersPanel.vue";var Q=K.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[e.book.image_url?n("div",{staticClass:"card-image"},[n("router-link",{attrs:{to:"/books/"+e.book.id}},[n("figure",{staticClass:"image is-9by16 has-text-centered"},[n("img",{attrs:{src:e.rootUrl+"/"+e.book.image_url+"?id="+e.uniqueID,alt:e.book.title}})])])],1):e._e(),n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("p",{staticClass:"title is-4"},[n("router-link",{staticClass:"has-text-black",attrs:{to:"/books/"+e.book.id}},[e._v("\n                        "+e._s(e.book.title)+"\n                    ")])],1),e.book.authors.length>0?n("p",{staticClass:"subtitle is-6"},[e._v(e._s(e.book.authors.map(function(e){return e.name}).join(", ")))]):e._e()])]),n("div",{staticClass:"tags"},e._l(e.book.genres,function(t){return n("span",{key:t.id,staticClass:"tag is-primary"},[e._v(e._s(t.name))])})),n("div",{staticClass:"content"},[n("p",{staticClass:"subtitle price"},[e.book.discount>0?[n("del",{staticClass:"has-text-grey-light is-size-6"},[e._v(e._s(e.book.price))]),n("strong",{staticClass:"is-size-4 has-text-weight-light"},[e._v("\n                        "+e._s(e._f("price")(e.priceWithDiscount(e.book.price,e.book.discount)))+"\n                    ")])]:n("strong",{staticClass:"is-size-4 has-text-weight-light"},[e._v("\n                    "+e._s(e._f("price")(e.book.price))+"\n                ")])],2),e.isAuth?[e.isInCart(e.book.id)?n("span",{staticClass:"tag is-info is-medium"},[e._v("In Cart")]):[e.isLoading?n("button",{staticClass:"button is-success is-loading",attrs:{disabled:""}},[e._v("\n                        Add To Cart\n                    ")]):n("button",{staticClass:"button is-success is-outlined",on:{click:function(t){e.handleAddToCart(e.book.id)}}},[e._v("\n                        Add To Cart\n                    ")])]]:n("button",{staticClass:"button is-success is-outlined",on:{click:e.fakeAddToCart}},[e._v("Add To Cart")])],2)])])},Y=[],Z=n("4f8d"),ee={name:"book-item",data:function(){return{rootUrl:Z["a"],isLoading:!1}},props:{book:{type:Object,required:!0}},computed:Object(h["a"])({},g["a"].mapState(["uniqueID"]),g["a"].mapGetters(["books","isAuth","isInCart"])),methods:Object(h["a"])({},g["a"].mapActions(["fakeAddToCart","addToCart"]),{priceWithDiscount:function(e,t){return(e-e*(t/100)).toFixed(2)},handleAddToCart:function(e){var t=this;this.isLoading=!0,this.addToCart({bookId:e,count:1}).finally(function(){t.isLoading=!1})}})},te=ee,ne=(n("cf7d"),Object(C["a"])(te,X,Y,!1,null,"45071b2e",null));ne.options.__file="BookItem.vue";var ae=ne.exports,oe={name:"Index",components:{"filters-panel":Q,"book-item":ae},computed:Object(h["a"])({},g["a"].mapGetters(["books"]))},se=oe,re=(n("fe36"),Object(C["a"])(se,R,D,!1,null,"6c29c0ea",null));re.options.__file="Index.vue";var ie=re.exports,ce={books:[],authors:[],genres:[],bookFilters:{title:"",author:"",genre:""},auth:{id:localStorage.getItem("id")||"",token:localStorage.getItem("token")||"",name:localStorage.getItem("name")||"",email:localStorage.getItem("email")||"",role:localStorage.getItem("role")||"",discount:localStorage.getItem("discount")||""},registerModal:{isVisible:!1},loginModal:{isVisible:!1},cart:[],paymentTypes:[],orders:[],users:[],uniqueID:+Date.now(),isLoading:!1},ue=ce;n("7514"),n("20d6");function de(e){e.cart=[]}function le(e){e.paymentTypes=[]}function fe(e){e.orders=[]}function me(e){e.users=[]}var pe={setBooks:function(e,t){e.books=t},deleteBook:function(e,t){e.books=e.books.filter(function(e){return+e.id!==+t}),e.cart=e.cart.filter(function(e){return+e.book.id!==+t})},addBook:function(e,t){e.books.push({id:t.id,title:t.title,description:t.description,price:t.price,discount:t.discount,image_url:null,authors:[],genres:[]})},updateBook:function(e,t){e.books=e.books.map(function(e){return+e.id===+t.id&&(e.title=t.title,e.description=t.description,e.price=t.price,e.discount=t.discount),e}),e.cart=e.cart.map(function(e){return+e.book.id===+t.id&&(e.book.title=t.title,e.book.description=t.description,e.book.price=t.price,e.book.discount=t.discount),e})},updateBookAuthors:function(e,t){e.books=e.books.map(function(e){return+e.id===+t.id&&(e.authors=t.authors),e})},updateBookGenres:function(e,t){e.books=e.books.map(function(e){return+e.id===+t.id&&(e.genres=t.genres),e})},updateBookImage:function(e,t){e.books=e.books.map(function(e){return+e.id===+t.id&&(e.image_url=t.imageUrl),e})},setAuthors:function(e,t){e.authors=t},deleteAuthor:function(e,t){e.authors=e.authors.filter(function(e){return+e.id!==+t}),e.books=e.books.map(function(e){var n=e.authors.findIndex(function(e){return+e.id===+t});return-1!==n&&e.authors.splice(n,1),e})},addAuthor:function(e,t){e.authors.push(t)},updateAuthor:function(e,t){e.authors=e.authors.map(function(e){return+e.id===+t.id&&(e.name=t.name),e}),e.books=e.books.map(function(e){var n=e.authors.findIndex(function(e){return+e.id===+t.id});return-1!==n&&(e.authors[n].name=t.name),e})},setGenres:function(e,t){e.genres=t},deleteGenre:function(e,t){e.genres=e.genres.filter(function(e){return+e.id!==+t}),e.books=e.books.map(function(e){var n=e.genres.findIndex(function(e){return+e.id===+t});return-1!==n&&e.genres.splice(n,1),e})},addGenre:function(e,t){e.genres.push(t)},updateGenre:function(e,t){e.genres=e.genres.map(function(e){return+e.id===+t.id&&(e.name=t.name),e}),e.books=e.books.map(function(e){var n=e.genres.findIndex(function(e){return+e.id===+t.id});return-1!==n&&(e.genres[n].name=t.name),e})},removeBookFilters:function(e){e.bookFilters={title:"",author:"",genre:""}},setRegisterModal:function(e){e.registerModal.isVisible=!0},removeRegisterModal:function(e){e.registerModal.isVisible=!1},setLoginModal:function(e){e.loginModal.isVisible=!0},removeLoginModal:function(e){e.loginModal.isVisible=!1},setAuth:function(e,t){e.auth={id:t.id,token:t.token,name:t.name,email:t.email,role:t.role,discount:t.discount}},removeAuth:function(e){e.auth={id:"",token:"",name:"",email:"",role:"",discount:""},de(e),le(e),fe(e),me(e)},updateCurrentUser:function(e,t){e.auth=Object(h["a"])({},e.auth,{name:t.name,email:t.email})},updateUser:function(e,t){+e.auth.id===+t.id&&(e.auth=Object(h["a"])({},e.auth,{name:t.name,email:t.email,discount:t.discount})),e.users=e.users.map(function(e){return+e.id===+t.id&&(e.name=t.name,e.email=t.email,e.discount=t.discount),e})},setCart:function(e,t){e.cart=t},removeCart:function(e){de(e)},deleteFromCart:function(e,t){e.cart=e.cart.filter(function(e){return+e.book.id!==+t})},updateInCart:function(e,t){e.cart=e.cart.map(function(e){return+e.book.id===+t.bookId&&(e.count=t.count),e})},addToCart:function(e,t){var n=e.books.find(function(e){return+e.id===+t.bookId});e.cart.push({count:t.count,id:t.id,book:{id:n.id,title:n.title,description:n.description,price:n.price,discount:n.discount,image_url:n.image_url}})},setPaymentTypes:function(e,t){e.paymentTypes=t},setOrders:function(e,t){e.orders=t},deleteOrder:function(e,t){e.orders=e.orders.filter(function(e){return+e.id!==+t})},updateOrder:function(e,t){e.orders=e.orders.map(function(e){return+e.id===+t.id&&(e.status=t.status),e})},setUsers:function(e,t){e.users=t},setUniqueID:function(e){e.uniqueID=+Date.now()},setLoading:function(e){e.isLoading=!0},removeLoading:function(e){e.isLoading=!1}},he=pe,ge={fetchBooks:function(){var e="".concat(Z["a"],"/api/books");return new Promise(function(t,n){f.a.get(e).then(function(e){t(e)}).catch(function(e){n(e.response)})})},deleteBook:function(e){return new Promise(function(t,n){f.a.delete("".concat(Z["a"],"/api/books/").concat(e)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},addBook:function(e){return new Promise(function(t,n){f.a.post("".concat(Z["a"],"/api/books"),"title=".concat(e.title,"&description=").concat(e.description,"&price=").concat(e.price,"&discount=").concat(e.discount)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},updateBook:function(e){return new Promise(function(t,n){f.a.put("".concat(Z["a"],"/api/books/").concat(e.id),"title=".concat(e.title,"&description=").concat(e.description,"&price=").concat(e.price,"&discount=").concat(e.discount)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},updateBookAuthors:function(e){var t=e.authors.map(function(e){return"author[]=".concat(e.id)}).join("&");return new Promise(function(n,a){f.a.post("".concat(Z["a"],"/api/books/").concat(e.id,"/authors"),t).then(function(e){n(e)}).catch(function(e){a(e.response)})})},updateBookGenres:function(e){var t=e.genres.map(function(e){return"genre[]=".concat(e.id)}).join("&");return new Promise(function(n,a){f.a.post("".concat(Z["a"],"/api/books/").concat(e.id,"/genres"),t).then(function(e){n(e)}).catch(function(e){a(e.response)})})},updateBookImage:function(e){var t=new FormData;return t.append("image",e.image),new Promise(function(n,a){f.a.post("".concat(Z["a"],"/api/books/").concat(e.id,"/image"),t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){n(e)}).catch(function(e){a(e.response)})})}},be={fetchAuthors:function(){var e="".concat(Z["a"],"/api/authors");return new Promise(function(t,n){f.a.get(e).then(function(e){t(e)}).catch(function(e){n(e.response)})})},deleteAuthor:function(e){return new Promise(function(t,n){f.a.delete("".concat(Z["a"],"/api/authors/").concat(e)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},addAuthor:function(e){return new Promise(function(t,n){f.a.post("".concat(Z["a"],"/api/authors"),"name=".concat(e)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},updateAuthor:function(e){return new Promise(function(t,n){f.a.put("".concat(Z["a"],"/api/authors/").concat(e.id),"name=".concat(e.name)).then(function(e){t(e)}).catch(function(e){n(e.response)})})}},ve={fetchGenres:function(){var e="".concat(Z["a"],"/api/genres");return new Promise(function(t,n){f.a.get(e).then(function(e){t(e)}).catch(function(e){n(e.response)})})},deleteGenre:function(e){return new Promise(function(t,n){f.a.delete("".concat(Z["a"],"/api/genres/").concat(e)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},addGenre:function(e){return new Promise(function(t,n){f.a.post("".concat(Z["a"],"/api/genres"),"name=".concat(e)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},updateGenre:function(e){return new Promise(function(t,n){f.a.put("".concat(Z["a"],"/api/genres/").concat(e.id),"name=".concat(e.name)).then(function(e){t(e)}).catch(function(e){n(e.response)})})}},ke={registerUser:function(e){return new Promise(function(t,n){f.a.post("".concat(Z["a"],"/api/users/"),"name=".concat(e.name,"&email=").concat(e.email,"&password=").concat(e.password)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},loginUser:function(e){return new Promise(function(t,n){f.a.post("".concat(Z["a"],"/api/auth/"),"email=".concat(e.email,"&password=").concat(e.password)).then(function(e){var n=e.data.message.data.token;f.a.defaults.headers.common["Authorization"]="Bearer ".concat(n),t(e)}).catch(function(e){n(e.response)})})},logoutUser:function(){return new Promise(function(e,t){f.a.delete("".concat(Z["a"],"/api/auth/")).then(function(t){delete f.a.defaults.headers.common["Authorization"],e(t)}).catch(function(e){t(e.response)})})},fetchAuthUser:function(){return new Promise(function(e,t){f.a.get("".concat(Z["a"],"/api/auth/")).then(function(t){e(t)}).catch(function(e){t(e.response)})})},updateCurrentUser:function(e){return new Promise(function(t,n){f.a.put("".concat(Z["a"],"/api/users/"),"name=".concat(e.name,"&email=").concat(e.email,"&password=").concat(e.password)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},updateUser:function(e){return new Promise(function(t,n){f.a.put("".concat(Z["a"],"/api/users/").concat(e.id),"name=".concat(e.name,"&email=").concat(e.email,"&discount=").concat(e.discount)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},fetchUsers:function(){return new Promise(function(e,t){f.a.get("".concat(Z["a"],"/api/users/")).then(function(t){e(t)}).catch(function(e){t(e.response)})})}},ye={fetchCart:function(){return new Promise(function(e,t){f.a.get("".concat(Z["a"],"/api/cart/")).then(function(t){e(t)}).catch(function(e){t(e.response)})})},deleteFromCart:function(e){return new Promise(function(t,n){f.a.delete("".concat(Z["a"],"/api/cart/"),{data:"book_id=".concat(e)}).then(function(e){t(e)}).catch(function(e){n(e.response)})})},updateInCart:function(e){return new Promise(function(t,n){f.a.put("".concat(Z["a"],"/api/cart/"),"book_id=".concat(e.bookId,"&count=").concat(e.count)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},addToCart:function(e){return new Promise(function(t,n){f.a.post("".concat(Z["a"],"/api/cart/"),"book_id=".concat(e.bookId,"&count=").concat(e.count)).then(function(e){t(e)}).catch(function(e){n(e.response)})})}},Ce={fetchPaymentTypes:function(){return new Promise(function(e,t){f.a.get("".concat(Z["a"],"/api/payment-types/")).then(function(t){e(t)}).catch(function(e){t(e.response)})})}},je={fetchOrders:function(){return new Promise(function(e,t){f.a.get("".concat(Z["a"],"/api/orders/")).then(function(t){e(t)}).catch(function(e){t(e.response)})})},addOrder:function(e){return new Promise(function(t,n){f.a.post("".concat(Z["a"],"/api/orders/"),"payment_type=".concat(e)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},deleteOrder:function(e){return new Promise(function(t,n){f.a.delete("".concat(Z["a"],"/api/orders/").concat(e)).then(function(e){t(e)}).catch(function(e){n(e.response)})})},updateOrder:function(e){return new Promise(function(t,n){f.a.put("".concat(Z["a"],"/api/orders/").concat(e.id),"status=".concat(e.status)).then(function(e){t(e)}).catch(function(e){n(e.response)})})}},we=Object(h["a"])({},ge,be,ve,ke,ye,Ce,je),_e={getBooks:function(e){return new Promise(function(t,n){we.fetchBooks().then(function(n){e.commit("setBooks",n.data.message.data),t()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),n()})})},deleteBook:function(e,t){return new Promise(function(n,o){we.deleteBook(t).then(function(o){e.commit("deleteBook",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},addBook:function(e,t){return new Promise(function(n,o){we.addBook(t).then(function(o){e.commit("addBook",Object(h["a"])({id:o.data.message.data.id},t)),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),Ie.push("/dashboard/books"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateBook:function(e,t){return new Promise(function(n,o){we.updateBook(t).then(function(o){e.commit("updateBook",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),Ie.push("/dashboard/books"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateBookAuthors:function(e,t){return new Promise(function(n,o){we.updateBookAuthors(t).then(function(o){e.commit("updateBookAuthors",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateBookGenres:function(e,t){return new Promise(function(n,o){we.updateBookGenres(t).then(function(o){e.commit("updateBookGenres",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateBookImage:function(e,t){return new Promise(function(n,o){we.updateBookImage(t).then(function(o){e.commit("updateBookImage",{id:t.id,imageUrl:o.data.message.data.imageUrl}),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},getAuthors:function(e){return new Promise(function(t,n){we.fetchAuthors().then(function(n){e.commit("setAuthors",n.data.message.data),t()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),n()})})},deleteAuthor:function(e,t){return new Promise(function(n,o){we.deleteAuthor(t).then(function(o){e.commit("deleteAuthor",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},addAuthor:function(e,t){return new Promise(function(n,o){we.addAuthor(t).then(function(o){e.commit("addAuthor",{id:o.data.message.data.id,name:t}),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),Ie.push("/dashboard/authors"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateAuthor:function(e,t){return new Promise(function(n,o){we.updateAuthor(t).then(function(o){e.commit("updateAuthor",{id:t.id,name:t.name}),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),Ie.push("/dashboard/authors"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},getGenres:function(e){return new Promise(function(t,n){we.fetchGenres().then(function(n){e.commit("setGenres",n.data.message.data),t()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),n()})})},deleteGenre:function(e,t){return new Promise(function(n,o){we.deleteGenre(t).then(function(o){e.commit("deleteGenre",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},addGenre:function(e,t){return new Promise(function(n,o){we.addGenre(t).then(function(o){e.commit("addGenre",{id:o.data.message.data.id,name:t}),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),Ie.push("/dashboard/genres"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateGenre:function(e,t){return new Promise(function(n,o){we.updateGenre(t).then(function(o){e.commit("updateGenre",{id:t.id,name:t.name}),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),Ie.push("/dashboard/genres"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},registerUser:function(e,t){return new Promise(function(n,o){we.registerUser(t).then(function(t){a["default"].notify({group:"messages",title:"Success",type:"success",text:t.data.message.text}),e.commit("removeRegisterModal"),e.commit("setLoginModal"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},loginUser:function(e,t){var n,o;return new Promise(function(s,r){we.loginUser(t).then(function(e){return n=e.data.message.data.token,o=e.data.message.text,we.fetchAuthUser()}).then(function(t){var r=t.data.message.data;e.commit("setAuth",{id:r.id,token:n,name:r.name,email:r.email,role:r.role,discount:r.discount}),e.dispatch("getCart"),e.dispatch("getPaymentTypes"),localStorage.setItem("id",r.id),localStorage.setItem("token",n),localStorage.setItem("name",r.name),localStorage.setItem("email",r.email),localStorage.setItem("role",r.role),localStorage.setItem("discount",r.discount),a["default"].notify({group:"messages",title:"Success",type:"success",text:o}),e.commit("removeLoginModal"),s()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),r()})})},logoutUser:function(e){we.logoutUser().then(function(t){e.commit("removeAuth"),localStorage.removeItem("id"),localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("role"),localStorage.removeItem("discount"),a["default"].notify({group:"messages",title:"Success",type:"success",text:t.data.message.text}),Ie.push("/")}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text})})},updateCurrentUser:function(e,t){return new Promise(function(n,o){we.updateCurrentUser(t).then(function(o){e.commit("updateCurrentUser",{name:t.name,email:t.email}),localStorage.setItem("name",t.name),localStorage.setItem("email",t.email),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateUser:function(e,t){return new Promise(function(n,o){we.updateUser(t).then(function(o){e.commit("updateUser",t),+e.state.auth.id===+t.id&&(localStorage.setItem("name",t.name),localStorage.setItem("email",t.email),localStorage.setItem("discount",t.discount)),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),Ie.push("/dashboard/users"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},getCart:function(e){return new Promise(function(t,n){we.fetchCart().then(function(n){e.commit("setCart",n.data.message.data),t()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),n()})})},deleteFromCart:function(e,t){return new Promise(function(n,o){we.deleteFromCart(t).then(function(o){e.commit("deleteFromCart",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateInCart:function(e,t){return new Promise(function(n,o){we.updateInCart(t).then(function(o){e.commit("updateInCart",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},fakeAddToCart:function(e){e.commit("setLoginModal"),a["default"].notify({group:"messages",title:"Warning",type:"warn",text:"Нou must be logged-in to make a purchase."})},addToCart:function(e,t){return new Promise(function(n,o){we.addToCart(t).then(function(o){e.commit("addToCart",{id:o.data.message.data.id,bookId:t.bookId,count:t.count}),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},getPaymentTypes:function(e){return new Promise(function(t,n){we.fetchPaymentTypes().then(function(n){e.commit("setPaymentTypes",n.data.message.data),t()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),n()})})},addOrder:function(e,t){return new Promise(function(n,o){we.addOrder(t).then(function(t){e.commit("removeCart"),a["default"].notify({group:"messages",title:"Success",type:"success",text:t.data.message.text}),Ie.push("/orders"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},getOrders:function(e){we.fetchOrders().then(function(t){e.commit("setOrders",t.data.message.data)}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text})})},deleteOrder:function(e,t){return new Promise(function(n,o){we.deleteOrder(t).then(function(o){e.commit("deleteOrder",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},updateOrder:function(e,t){return new Promise(function(n,o){we.updateOrder(t).then(function(o){e.commit("updateOrder",t),a["default"].notify({group:"messages",title:"Success",type:"success",text:o.data.message.text}),Ie.push("/dashboard/orders"),n()}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text}),o()})})},getUsers:function(e){we.fetchUsers().then(function(t){e.commit("setUsers",t.data.message.data)}).catch(function(e){a["default"].notify({group:"messages",title:"Error",type:"error",text:e.data.message.text})})}},xe=_e,$e=(n("6762"),n("2fdb"),{books:function(e){var t=e.bookFilters;return t?e.books.filter(function(e){return t.title?e.title.toLowerCase().includes(t.title.toLowerCase()):e}).filter(function(e){return t.author?-1!==e.authors.findIndex(function(e){return+e.id===+t.author}):e}).filter(function(e){return t.genre?-1!==e.genres.findIndex(function(e){return+e.id===+t.genre}):e}):e.books},getBookById:function(e){return function(t){return e.books.filter(function(e){return+e.id===+t})[0]}},getAuthorById:function(e){return function(t){return e.authors.filter(function(e){return+e.id===+t})[0]}},getGenreById:function(e){return function(t){return e.genres.filter(function(e){return+e.id===+t})[0]}},isAuth:function(e){return e.auth.id&&e.auth.token&&e.auth.name&&e.auth.email&&e.auth.role&&e.auth.discount},isAdmin:function(e){return e.auth.id&&e.auth.token&&e.auth.name&&e.auth.email&&"admin"===e.auth.role&&e.auth.discount},getCartCount:function(e){return e.cart.length},isInCart:function(e){return function(t){return-1!==e.cart.findIndex(function(e){return+e.book.id===+t})}},getOrdersCount:function(e){return e.orders.length},getOrdersTotalPrice:function(e){return e.orders.reduce(function(e,t){return+e+ +t.total_price},0).toFixed(2)},getOrdersTotalDiscount:function(e){return e.orders.reduce(function(e,t){return+e+ +t.total_discount},0).toFixed(2)},getOrderById:function(e){return function(t){return e.orders.filter(function(e){return+e.id===+t})[0]}},getOrdersByUser:function(e){return function(t){return e.orders.filter(function(e){return+e.user.id===+t})}},getUserById:function(e){return function(t){return e.users.filter(function(e){return+e.id===+t})[0]}}}),Pe=$e;a["default"].use(g["a"]);var Ae=new g["a"].Store({state:ue,mutations:he,actions:xe,getters:Pe});a["default"].use(N["a"]);var Se=function(e,t,n){return Ae.getters.isAuth?n():n("/")},Ee=function(e,t,n){return Ae.getters.isAdmin?n():n("/")},Ie=new N["a"]({routes:[{path:"/",name:"index",component:ie},{path:"/books/:id",name:"product",component:function(){return n.e("d2f1").then(n.bind(null,"d2f1"))}},{path:"/profile",name:"profile",component:function(){return n.e("c66d").then(n.bind(null,"c66d"))},beforeEnter:Se},{path:"/cart",name:"cart",component:function(){return n.e("chunk-e538").then(n.bind(null,"b789"))},beforeEnter:Se},{path:"/orders",name:"orders",component:function(){return n.e("chunk-b022").then(n.bind(null,"159d"))},beforeEnter:function(e,t,n){return Ae.getters.isAuth?Ae.getters.isAdmin?n("/dashboard"):n():n("/")}},{path:"/orders/:id",name:"orderDetails",component:function(){return n.e("chunk-bcb9").then(n.bind(null,"35aa"))},beforeEnter:function(e,t,n){return Ae.getters.isAuth?Ae.getters.isAdmin?n("/dashboard"):0===Ae.state.orders.length?n("/orders"):n():n("/")}},{path:"/dashboard",component:function(){return n.e("chunk-4b34").then(n.bind(null,"cd59"))},beforeEnter:Ee,children:[{path:"",component:function(){return n.e("chunk-452b").then(n.bind(null,"4e7a"))}},{path:"users",component:function(){return n.e("chunk-cded").then(n.bind(null,"9852"))}},{path:"users/:id/orders",component:function(){return n.e("chunk-2efb").then(n.bind(null,"d2fa"))}},{path:"users/:id/edit",component:function(){return n.e("19ef").then(n.bind(null,"19ef"))},beforeEnter:function(e,t,n){return 0===Ae.state.users.length?n("/dashboard/users"):n()}},{path:"orders",component:function(){return n.e("chunk-588f").then(n.bind(null,"6411"))}},{path:"orders/:id",component:function(){return n.e("chunk-19e0").then(n.bind(null,"126f"))}},{path:"orders/:id/edit",component:function(){return n.e("574b").then(n.bind(null,"574b"))},beforeEnter:function(e,t,n){return 0===Ae.state.orders.length?n("/dashboard/orders"):n()}},{path:"books",component:function(){return n.e("chunk-704f").then(n.bind(null,"d677"))}},{path:"books/add",component:function(){return n.e("afe8").then(n.bind(null,"afe8"))}},{path:"books/:id",component:function(){return n.e("db70").then(n.bind(null,"db70"))}},{path:"books/:id/edit",component:function(){return n.e("chunk-0a24").then(n.bind(null,"b9bb"))},beforeEnter:function(e,t,n){return 0===Ae.state.books.length?n("/dashboard/books"):n()}},{path:"genres",component:function(){return n.e("chunk-bead").then(n.bind(null,"7043"))}},{path:"genres/:id/edit",component:function(){return n.e("52c3").then(n.bind(null,"52c3"))},beforeEnter:function(e,t,n){return 0===Ae.state.genres.length?n("/dashboard/genres"):n()}},{path:"genres/add",component:function(){return n.e("40ad").then(n.bind(null,"40ad"))}},{path:"authors",component:function(){return n.e("chunk-0bc6").then(n.bind(null,"9d44"))}},{path:"authors/:id/edit",component:function(){return n.e("1644").then(n.bind(null,"1644"))},beforeEnter:function(e,t,n){return 0===Ae.state.authors.length?n("/dashboard/authors"):n()}},{path:"authors/add",component:function(){return n.e("4277").then(n.bind(null,"4277"))}}]}]}),Le=localStorage.getItem("token");Le&&(f.a.defaults.headers.common["Authorization"]="Bearer ".concat(Le)),f.a.interceptors.response.use(function(e){return e},function(e){var t=e.response;return 401==t.status&&(Ae.commit("removeAuth"),Ae.commit("setLoginModal"),localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("role"),localStorage.removeItem("discount"),Ie.push("/")),Promise.reject(e)}),a["default"].config.productionTip=!1,a["default"].filter("price",function(e){return"".concat(e,"$")}),a["default"].filter("percent",function(e){return"".concat(e,"%")}),a["default"].use(s.a),a["default"].use(i.a),a["default"].use(c["a"],{adapter:d.a}),new a["default"]({router:Ie,store:Ae,render:function(e){return e(z)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("2856"),o=n.n(a);o.a},"79a8":function(e,t,n){},"82fd":function(e,t,n){},b9f6:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},cf7d:function(e,t,n){"use strict";var a=n("eaf4"),o=n.n(a);o.a},eaf4:function(e,t,n){},fe36:function(e,t,n){"use strict";var a=n("79a8"),o=n.n(a);o.a}});
//# sourceMappingURL=app.e00c838f.js.map