{"version":3,"sources":["webpack:///./src/views/Product.vue?fb53","webpack:///src/views/Product.vue","webpack:///./src/views/Product.vue?880b","webpack:///./src/views/Product.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","aria-label","to","_v","href","aria-current","_s","book","title","src","rootUrl","image_url","uniqueID","alt","_e","authors","length","map","a","name","join","_l","genre","key","id","description","discount","price","_f","priceWithDiscount","isAuth","isInCart","isLoading","disabled","on","click","$event","handleAddToCart","fakeAddToCart","staticRenderFns","data","urls","computed","Object","objectSpread","vuex_esm","mapState","mapGetters","getBookById","$route","params","methods","mapActions","toFixed","_this","addToCart","bookId","count","finally","views_Productvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/d2f1.89fb4ff5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product\"},[_c('div',{staticClass:\"container\"},[_c('nav',{staticClass:\"breadcrumb\",attrs:{\"aria-label\":\"breadcrumbs\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Main\")])],1),_c('li',{staticClass:\"is-active\"},[_c('a',{attrs:{\"href\":\"#\",\"aria-current\":\"page\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.book.title)+\"\\n          \")])])])]),_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"columns\"},[(_vm.book.image_url)?_c('div',{staticClass:\"column is-two-fifths\"},[_c('div',{staticClass:\"card-image\"},[_c('figure',{staticClass:\"image is-9by16 has-text-centered\"},[_c('img',{attrs:{\"src\":_vm.rootUrl + '/' + _vm.book.image_url + '?id=' + _vm.uniqueID,\"alt\":_vm.book.title}})])])]):_vm._e(),_c('div',{staticClass:\"column is-three-fifths\"},[_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_c('p',{staticClass:\"title is-4\"},[_vm._v(_vm._s(_vm.book.title))]),(_vm.book.authors.length > 0)?_c('p',{staticClass:\"subtitle is-6\"},[_vm._v(_vm._s(_vm.book.authors.map(function (a) { return a.name; }).join(', ')))]):_vm._e()])]),_c('div',{staticClass:\"tags\"},_vm._l((_vm.book.genres),function(genre){return _c('span',{key:genre.id,staticClass:\"tag is-primary\"},[_vm._v(_vm._s(genre.name))])})),_c('div',{staticClass:\"content\"},[_vm._v(\"\\n              \"+_vm._s(_vm.book.description)+\"\\n              \"),_c('p',{staticClass:\"subtitle index__price\"},[(_vm.book.discount > 0)?[_c('del',{staticClass:\"has-text-grey-light is-size-6\"},[_vm._v(_vm._s(_vm.book.price))]),_c('strong',{staticClass:\"is-size-4 has-text-weight-light\"},[_vm._v(\"\\n                    \"+_vm._s(_vm._f(\"price\")(_vm.priceWithDiscount(_vm.book.price, _vm.book.discount)))+\"\\n                  \")])]:_c('strong',{staticClass:\"is-size-4 has-text-weight-light\"},[_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"price\")(_vm.book.price))+\"\\n                \")])],2),(!_vm.isAuth)?_c('button',{staticClass:\"button is-success is-outlined\",on:{\"click\":_vm.fakeAddToCart}},[_vm._v(\"Add To Cart\")]):[(!_vm.isInCart(_vm.book.id))?[(!_vm.isLoading)?_c('button',{staticClass:\"button is-success is-outlined\",on:{\"click\":function($event){_vm.handleAddToCart(_vm.book.id)}}},[_vm._v(\"\\n                    Add To Cart\\n                  \")]):_c('button',{staticClass:\"button is-success is-loading\",attrs:{\"disabled\":\"\"}},[_vm._v(\"\\n                    Add To Cart\\n                  \")])]:_c('span',{staticClass:\"tag is-info is-medium\"},[_vm._v(\"In Cart\")])]],2)])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"product\">\n\n    <div class=\"container\">\n\n      <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n        <ul>\n          <li>\n            <router-link to=\"/\">Main</router-link>\n          </li>\n          <li class=\"is-active\">\n            <a href=\"#\" aria-current=\"page\">\n              {{ book.title }}\n            </a>\n          </li>\n        </ul>\n      </nav>\n\n      <div class=\"card\">\n\n        <div class=\"columns\">\n          <div v-if=\"book.image_url\" \n               class=\"column is-two-fifths\">\n            <div class=\"card-image\">\n              <figure class=\"image is-9by16 has-text-centered\">\n                <img v-bind:src=\"rootUrl + '/' + book.image_url + '?id=' + uniqueID\" v-bind:alt=\"book.title\">\n              </figure>\n            </div>\n          </div>\n          <div class=\"column is-three-fifths\">\n            <div class=\"card-content\">\n              <div class=\"media\">\n                <div class=\"media-content\">\n                  <p class=\"title is-4\">{{ book.title }}</p>\n                  <p v-if=\"book.authors.length > 0\" class=\"subtitle is-6\">{{ book.authors.map(a => a.name).join(', ') }}</p>\n                </div>\n              </div>\n              <div class=\"tags\">\n                <span v-for=\"genre in book.genres\" v-bind:key=\"genre.id\" class=\"tag is-primary\">{{ genre.name }}</span>\n              </div>\n              <div class=\"content\">\n                {{ book.description }}\n                <p class=\"subtitle index__price\">\n                  <template v-if=\"book.discount > 0\">\n                    <del class=\"has-text-grey-light is-size-6\">{{ book.price }}</del>\n                    <strong class=\"is-size-4 has-text-weight-light\">\n                      {{ priceWithDiscount(book.price, book.discount) | price }}\n                    </strong>\n                  </template>\n                  <strong v-else class=\"is-size-4 has-text-weight-light\">\n                    {{ book.price | price }}\n                  </strong>\n                </p>\n                <button v-if=\"!isAuth\" \n                        v-on:click=\"fakeAddToCart\" \n                        class=\"button is-success is-outlined\">Add To Cart</button>\n                <template v-else>\n                  <template v-if=\"!isInCart(book.id)\">\n                    <button v-if=\"!isLoading\"\n                            v-on:click=\"handleAddToCart(book.id)\" \n                            class=\"button is-success is-outlined\">\n                      Add To Cart\n                    </button>\n                    <button v-else class=\"button is-success is-loading\" disabled>\n                      Add To Cart\n                    </button>\n                  </template>\n                  <span v-else class=\"tag is-info is-medium\">In Cart</span>\n                </template>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport Vuex from 'vuex'\nimport {rootUrl} from '../api/urls'\n\nexport default {\n  name: 'Product',\n  data() {\n    return {\n      rootUrl,\n      isLoading: false\n    }\n  },\n  computed: {\n    ...Vuex.mapState([\n      'uniqueID'\n    ]),\n    ...Vuex.mapGetters([\n      'getBookById',\n      'isAuth',\n      'isInCart'\n    ]),\n    book() {\n      return this.getBookById(this.$route.params.id);\n    }\n  },\n  methods: {\n    ...Vuex.mapActions([\n      'fakeAddToCart',\n      'addToCart'\n    ]),\n    priceWithDiscount(price, discount) {\n      return (price - price * (discount / 100)).toFixed(2);\n    },\n    handleAddToCart(id) {\n      this.isLoading = true;\n\n      this.addToCart({\n        bookId: id,\n        count: 1\n      })\n      .finally(() => {\n        this.isLoading = false;\n      });\n    }\n  }\n}\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=f52008ce&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Product.vue\"\nexport default component.exports"],"sourceRoot":""}