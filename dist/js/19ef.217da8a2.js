(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["19ef"],{"19ef":function(e,i,t){"use strict";t.r(i);var s=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"edit"},[t("nav",{staticClass:"breadcrumb",attrs:{"aria-label":"breadcrumbs"}},[t("ul",[t("li",[t("router-link",{attrs:{to:"/dashboard"}},[e._v("Dashboard")])],1),t("li",[t("router-link",{attrs:{to:"/dashboard/users"}},[e._v("Users")])],1),t("li",{staticClass:"is-active"},[t("a",{attrs:{href:"#","aria-current":"page"}},[e._v("\n                    Edit user #"+e._s(e.user.id)+"\n                ")])])])]),t("div",{staticClass:"edit__form"},[t("div",{staticClass:"field"},[t("label",{staticClass:"label"},[e._v("Name")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.name.$model,expression:"$v.name.$model",modifiers:{trim:!0}}],class:{input:!0,"is-danger":e.$v.name.$error},attrs:{type:"text",placeholder:"Name"},domProps:{value:e.$v.name.$model},on:{input:function(i){i.target.composing||e.$set(e.$v.name,"$model",i.target.value.trim())},blur:function(i){e.$forceUpdate()}}})]),t("ul",{staticClass:"help is-danger"},[e.$v.name.$dirty&&!e.$v.name.required?t("li",[e._v("\n                    Field is required.\n                ")]):e._e(),e.$v.name.minLength?e._e():t("li",[e._v("\n                    Name must have at least "+e._s(e.$v.name.$params.minLength.min)+" letters.\n                ")])])]),t("div",{staticClass:"field"},[t("label",{staticClass:"label"},[e._v("Email")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.email.$model,expression:"$v.email.$model",modifiers:{trim:!0}}],class:{input:!0,"is-danger":e.$v.email.$error},attrs:{type:"text",placeholder:"Email"},domProps:{value:e.$v.email.$model},on:{input:function(i){i.target.composing||e.$set(e.$v.email,"$model",i.target.value.trim())},blur:function(i){e.$forceUpdate()}}})]),t("ul",{staticClass:"help is-danger"},[e.$v.email.$dirty&&!e.$v.email.required?t("li",[e._v("\n                    Field is required.\n                ")]):e._e(),e.$v.email.email?e._e():t("li",[e._v("\n                    This field must be a valid email address.\n                ")])])]),t("div",{staticClass:"field"},[t("label",{staticClass:"label"},[e._v("Discount")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.discount.$model,expression:"$v.discount.$model",modifiers:{trim:!0}}],class:{input:!0,"is-danger":e.$v.discount.$error},attrs:{type:"text",placeholder:"Discount"},domProps:{value:e.$v.discount.$model},on:{input:function(i){i.target.composing||e.$set(e.$v.discount,"$model",i.target.value.trim())},blur:function(i){e.$forceUpdate()}}})]),t("ul",{staticClass:"help is-danger"},[e.$v.discount.$dirty&&!e.$v.discount.required?t("li",[e._v("\n                    Field is required.\n                ")]):e._e(),e.$v.discount.minValue?e._e():t("li",[e._v("\n                    Discount must be at least "+e._s(e.$v.discount.$params.minValue.min)+".\n                ")]),e.$v.discount.maxValue?e._e():t("li",[e._v("\n                    Maximum discount is "+e._s(e.$v.discount.$params.maxValue.max)+".\n                ")])])]),t("div",{staticClass:"field"},[e.isLoading?t("button",{staticClass:"button is-success is-loading",attrs:{disabled:""}},[e._v("\n                Update\n            ")]):t("button",{staticClass:"button is-success",on:{click:e.handleUpdateUser}},[e._v("\n                Update\n            ")])])])])},a=[],n=t("c93e"),l=(t("7f7f"),t("2f62")),r=t("b5ae"),d={name:"Edit",data:function(){return{name:"",email:"",discount:"",isLoading:!1}},validations:{name:{required:r["required"],minLength:Object(r["minLength"])(6)},email:{required:r["required"],email:r["email"]},discount:{required:r["required"],minValue:Object(r["minValue"])(0),maxValue:Object(r["maxValue"])(50)}},mounted:function(){this.name=this.user.name,this.email=this.user.email,this.discount=this.user.discount},computed:Object(n["a"])({},l["a"].mapGetters(["getUserById"]),{user:function(){return this.getUserById(this.$route.params.id)}}),methods:Object(n["a"])({},l["a"].mapActions(["updateUser"]),{handleUpdateUser:function(){var e=this;return this.$v.$touch(),!this.$v.$invalid&&(this.name==this.user.name&&this.email==this.user.email&&this.discount==this.user.discount?this.$router.push("/dashboard/users"):(this.isLoading=!0,void this.updateUser({id:this.user.id,name:this.name,email:this.email,discount:this.discount}).finally(function(){e.isLoading=!1})))}})},u=d,o=t("2877"),m=Object(o["a"])(u,s,a,!1,null,null,null);m.options.__file="Edit.vue";i["default"]=m.exports}}]);
//# sourceMappingURL=19ef.217da8a2.js.map